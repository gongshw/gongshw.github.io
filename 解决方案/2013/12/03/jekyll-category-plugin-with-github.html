<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>在GitHub上使用Jekyll插件</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width">

	<link rel="stylesheet" href="/css/bootstrap.min.css">
	<style>
		body {
			padding-top: 50px;
			padding-bottom: 20px;
		}
	</style>
	<link rel="stylesheet" href="/css/bootstrap-theme.min.css">
	<link rel="stylesheet" href="/css/main.css">
	<link rel="stylesheet" href="/css/syntax.css">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/1.6.4/fullcalendar.css">


</head>

<body xmlns="http://www.w3.org/1999/html">

<!--[if lt IE 7]>
<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
	your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to
	improve your experience.</p>
<![endif]-->
<div class="navbar navbar-inverse navbar-fixed-top">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="#">编程狗窝</a>
		</div>
		<div class="navbar-collapse collapse">
			<ul class="nav navbar-nav">
				<li><a href="/">主页</a></li>
				<li><a href="/all.html">所有文章</a></li>
				<li class="dropdown">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown">更多<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a href="about.html">关于</a></li>
						<li><a href="#">更多...</a></li>
					</ul>
				</li>
			</ul>
		</div>
		<!--/.navbar-collapse -->
	</div>
</div>


<div class="container">
	<!-- Example row of columns -->
	<div class="row">
		<div class="col-lg-12">
			<h2>在GitHub上使用Jekyll插件</h2>
		</div>
	</div>
	<div class="row">
		<div class="col-lg-8">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">
						<a href="/">首页</a>&gt;
						<a href="/categories/解决方案">分类: 解决方案</a>
					</h3>
				</div>
				<div class="panel-body">
					<div><p>构建这个博客的Jekyll是一个静态网页生成工具，要实现一些额外的功能必须要使用Jekyll插件。</p>

<p>Jekyll插件是由ruby编写的，在Jekyll构建静态网时执行的程序。虽然插件不能改变生成的web站点是静态网页的本质，但能通过强大的模板功能扩展Jekyll的能力。</p>

<p>比如<a href='http://pizn.github.io/2012/02/23/use-category-plugin-for-jekyll-blog.html'>这篇博客</a>提到的category_plugin，可以实现博客的分类功能。</p>

<p>但被广泛使用的Jekyll托管站点GitHub Pages却不支持Jekyll插件。虽然原因可以理解，却使Jekyll生成的博客的可用性大大降低。要使GitHub Pages“支持”Jekyll插件，其实有个很耍小聪明的解决方案：直接部署经过Jekyll+插件构建后的站点到GitHub上。</p>

<p>思路如下</p>

<p>1. 安装本地的<a href='http://jekyllrb.com/'>Jekyll</a>环境。</p>

<p>2. 使用 <code>jekyll new</code>命令新建一个jekyll站点目录。</p>

<p>3. 在本地的jekyll站点编写博客。这时可以使用jekyll插件。</p>

<p>4. 使用 <code>jekyll build</code>命令生成静态站点。默认的输出目录是_site/</p>

<p>5. 把_site/目录下的文件发布到github。因为这就是一个静态站点不需要GitHub再次利用Jekyll构建，所以在根目录下添加一个内容为空的.nojekyll文件(<code>touch .nojekyll</code>)</p>

<p>这个过程的4、5两步可以利用脚本实现自动化。我写的脚本如下:</p>
<table class='highlighttable'><tr><td class='linenos'><div class='linenodiv'><pre><code class='sh'>1
2
3
4
5
6
7
8</code></pre></div></td><td class='code'><div class='highlight'><pre><span class='c'>#!/bin/sh</span>
<span class='nb'>cd</span> ~/raw.gongshw.github.io<span class='p'>;</span> 
jekyll build <span class='o'>||</span> error_exit <span class='s2'>&quot;$LINENO: jekyll build failed&quot;</span><span class='p'>;</span>
cp -r _site/ ../gongshw.github.io/<span class='p'>;</span>
<span class='nb'>cd</span> ../gongshw.github.io/<span class='p'>;</span>
git add .<span class='p'>;</span>
git commit -am <span class='s1'>&#39;Latest build.&#39;</span><span class='p'>;</span>
git push<span class='p'>;</span>
</pre></div>
</td></tr></table>
<p>我在~/raw.gongshw.github.io目录存放模板。每次构建后自动复制_site到gongshw.github.io/这个git目录并提交到github.</p></div>
					<hr>
					<div>

						<span><span class="glyphicon glyphicon-tags"></span>
							标签:
							
							<a href="js:;">GitHub</a>
							
							<a href="js:;">Jekyll</a>
							
							<a href="js:;">插件</a>
							</span>
						|
						<span>
							<span class="glyphicon glyphicon-calendar"></span>
							发布日期: 2013-12-03</span>
						|
						<span>
							<span class="glyphicon glyphicon-link"></span>
							<a href="/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/2013/12/03/jekyll-category-plugin-with-github.html">本文链接</a></span>
					</div>

					<div>

					</div>

				</div>
			</div>


			<!--DISQUS START-->
<div id="disqus_thread"></div>
<script type="text/javascript">
	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
	var disqus_shortname = 'gongshw'; // required: replace example with your forum shortname

	/* * * DON'T EDIT BELOW THIS LINE * * */
	(function () {
		var dsq = document.createElement('script');
		dsq.type = 'text/javascript';
		dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
	Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span
		class="logo-disqus">Disqus</span></a>
<!--DISQUS END-->


		</div>
		<div class="col-lg-4">
			<div class="panel panel-default">
	<div class="panel-heading">
		<h3 class="panel-title">日历</h3>
	</div>
	<div class="panel-body">
		<div id="calendar_widget"></div>
	</div>
</div>

			<div class="panel panel-default">
	<div class="panel-heading">
		<h3 class="panel-title">分类</h3>
	</div>
	<div class="panel-body">
		<ul>
			
			<li><a href="/categories/技术/" title="view allposts">
				技术 (1)</a>
			</li>
			
			<li><a href="/categories/代码/" title="view allposts">
				代码 (2)</a>
			</li>
			
			<li><a href="/categories/解决方案/" title="view allposts">
				解决方案 (2)</a>
			</li>
			
			<li><a href="/categories/工具/" title="view allposts">
				工具 (1)</a>
			</li>
			
		</ul>
	</div>
</div>

		</div>
	</div>
	<hr>
<footer>
	<p>&copy; Gongshw 2013
        <span style="float:right">Hosted by <a href="http://github.com/schacon/schacon.github.com/" target="_blank">GitHub</a> and powered by <a
		        href="http://github.com/mojombo/jekyll">Jekyll</a>
        </span>
	</p>
</footer>


</div>
<!-- /container -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/js/vendor/jquery-1.10.1.min.js"><\/script>')</script>

<script src="/js/vendor/bootstrap.min.js"></script>

<script src="/js/main.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/1.6.4/fullcalendar.min.js"></script>



<script>
	(function (i, s, o, g, r, a, m) {
		i['GoogleAnalyticsObject'] = r;
		i[r] = i[r] || function () {
			(i[r].q = i[r].q || []).push(arguments)
		}, i[r].l = 1 * new Date();
		a = s.createElement(o),
				m = s.getElementsByTagName(o)[0];
		a.async = 1;
		a.src = g;
		m.parentNode.insertBefore(a, m)
	})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

	ga('create', 'UA-38846492-3', 'gongshw.github.io');
	ga('send', 'pageview');
</script>

<script type="text/javascript">
	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
	var disqus_shortname = 'gongshw'; // required: replace example with your forum shortname

	/* * * DON'T EDIT BELOW THIS LINE * * */
	(function () {
		var s = document.createElement('script');
		s.async = true;
		s.type = 'text/javascript';
		s.src = '//' + disqus_shortname + '.disqus.com/count.js';
		(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
	}());
</script>
</body>
</html>
